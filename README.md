# Сервис UserAgent

Микросервис UserAgent содержит логику по работе с пользователями и их аутентификацией.

## Переменные окружения

### Общие

- `APP_VERSION` - версия сервиса
- `DEBUG_MODE` - режим отладки
- `HOSTNAME` - хост запуска сервиса
- `PORT` - порт слушателя сервиса

### БД

- `DB_TYPE` - тип СУБД; применяет необходимую имплементацию БД
- `DB_HOST` - хост с базой данных
- `DB_NAME` - имя базы данных
- `DB_PASS` - PG пароль
- `DB_USER` - PG пользователь
- `DB_PORT` - PG порт (5432 по-умолчанию)
- `DB_SSLMODE` - флаг SSL-pinning; disable по-умолчанию
- `DB_TZ` - флаг часовой зоны СУБД; по-умолчанию: Europe/Moscow

## Запуск сервиса

1. Создать пустую базу
2. Создать пользователя БД для сервиса, наследовать права групп (найтройка inherit rules в pgAdmin)
3. Если планируется установить `SSLMODE=PREFER`, или отличный от `DISABLE`, то предварительно создать сертификаты через openssl, и загрузить их через pgAdmin в настройки БД
4. Заполнить соответствующие переменные 
5. Стартуем сервис через `go run ./cmd/main.go`

## Остановка сервиса

Нажать (для Windows) `CTRL+C` в консоли, где запущен сервис

